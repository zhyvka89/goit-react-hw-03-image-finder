{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.js","services/apiImageService.js","components/Button/Button.js","components/ImageGallery/ImageGallery.js","components/Container/Container.js","components/Layout/Layout.js","components/Searchbar/Searchbar.js","App.js","index.js"],"names":["ImageGalleryItem","url","id","largeImage","tags","src","alt","api","fetchImages","name","page","fetch","then","response","json","Button","title","type","cbonClick","onClick","ImageGallery","state","images","error","handleBtnClick","console","log","getImages","imagesApi","props","imageName","hits","setState","prevState","catch","prevProps","this","map","image","webformatURL","largeImageURL","color","height","width","timeout","Component","Container","children","Layout","Searchbar","handleImageNameChange","e","currentTarget","value","toLowerCase","handlerSubmit","preventDefault","onSubmit","autoComplete","autoFocus","placeholder","onChange","App","handleFormSubmit","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"uQAQeA,EARU,SAAC,GAAmC,IAAjCC,EAAgC,EAAhCA,IAAKC,EAA2B,EAA3BA,GAA2B,EAAvBC,WAAuB,EAAXC,KAC/C,OACE,6BACE,qBAAKC,IAAKJ,EAAKK,IAAI,MADZJ,ICKb,IAIeK,EAJH,CACVC,YANF,SAAqBC,EAAMC,GACzB,OAAOC,MAAM,sEAAD,OAAuEF,EAAvE,iBAAoFC,EAApF,4BAHF,uCAIPE,MAAK,SAAAC,GAAQ,OAAIA,EAASC,YCEhBC,EANA,SAAC,GAAuC,IAAtCC,EAAqC,EAArCA,MAAqC,IAA9BC,YAA8B,MAAzB,SAAyB,EAAfC,EAAe,EAAfA,UACrC,OACE,wBAAQD,KAAMA,EAAME,QAASD,EAA7B,SAAyCF,K,iBCMxBI,G,kNACnBC,MAAQ,CACNC,OAAQ,GACRZ,KAAM,EACNa,MAAO,M,EA6BTC,eAAiB,WACfC,QAAQC,IAAI,UACZ,EAAKC,a,EAWPA,UAAY,WACVC,EACGpB,YAAY,EAAKqB,MAAMC,UAAW,EAAKT,MAAMX,MAC7CE,MAAK,gBAAGmB,EAAH,EAAGA,KAAH,OAAc,EAAKC,UAAS,SAACC,GAAD,MAAgB,CAChDX,OAAO,GAAD,mBAAMW,EAAUX,QAAhB,YAA2BS,IACjCrB,KAAMuB,EAAUvB,KAAO,SAExBwB,OAAM,SAAAX,GAAK,OAAI,EAAKS,SAAS,CAAET,c,wDAzCpC,SAAmBY,EAAWF,GAC5BR,QAAQC,IAAI,cAEZD,QAAQC,IAAIO,EAAUvB,MACLyB,EAAUL,YACPM,KAAKP,MAAMC,WAI7BM,KAAKT,c,oBAmCT,WACE,OACE,qCACE,6BACGS,KAAKf,MAAMC,OAAOe,KAAI,SAAAC,GACrB,OACE,cAAC,EAAD,CAAkBrC,IAAKqC,EAAMC,aAAcrC,GAAIoC,EAAMpC,GAAIC,WAAYmC,EAAME,cAAepC,KAAMkC,EAAMlC,YAI5G,cAAC,EAAD,CAAQY,MAAM,WAAWE,UAAWkB,KAAKZ,iBACzC,cAAC,IAAD,CACEP,KAAK,OACLwB,MAAM,UACNC,OAAQ,GACRC,MAAO,GACPC,QAAS,a,GAxEuBC,cCN3BC,EAFG,SAAC,GAAD,IAAGC,EAAH,EAAGA,SAAH,OAAkB,8BAAMA,KCa3BC,EAVA,SAAC,GAAkB,IAAhBD,EAAe,EAAfA,SAChB,OACE,mCACE,cAAC,EAAD,UACGA,OCFYE,E,4MACnB5B,MAAQ,CACNS,UAAW,I,EAGboB,sBAAwB,SAAAC,GACtB,EAAKnB,SAAS,CAAEF,UAAWqB,EAAEC,cAAcC,MAAMC,iB,EAInDC,cAAgB,SAAAJ,GACdA,EAAEK,iBACF,EAAK3B,MAAM4B,SAAS,EAAKpC,MAAMS,WAI/B,EAAKE,SAAS,CAAEF,UAAW,M,4CAG7B,WACE,OACE,iCACE,uBAAM2B,SAAUrB,KAAKmB,cAArB,UACE,wBAAQtC,KAAK,SAAb,SACE,4CAGF,uBACEA,KAAK,OACLyC,aAAa,MACbC,WAAS,EACTC,YAAY,2BACZP,MAAOjB,KAAKf,MAAMS,UAClB+B,SAAUzB,KAAKc,iC,GAjCYL,aCMlBiB,E,4MACnBzC,MAAQ,CACNS,UAAW,I,EAGbiC,iBAAmB,SAAAjC,GACjB,EAAKE,SAAS,CAAEF,e,4CAOlB,WACE,OACI,eAAC,EAAD,WACA,cAAC,EAAD,CAAW2B,SAAUrB,KAAK2B,mBAC1B,cAAC,EAAD,CAAcjC,UAAWM,KAAKf,MAAMS,mB,GAjBXe,aCLjCmB,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.48002218.chunk.js","sourcesContent":["const ImageGalleryItem = ({ url, id, largeImage, tags }) => {\r\n  return (\r\n    <li key={id}>\r\n      <img src={url} alt=\"\"/>\r\n    </li>\r\n  )\r\n}\r\n\r\nexport default ImageGalleryItem;","const KEY = '21789749-6de12aa5ab416fe119ffd7e9c';\r\n\r\nfunction fetchImages(name, page) {\r\n  return fetch(`https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${name}&page=${page}&per_page=12&key=${KEY}`)\r\n    .then(response => response.json());\r\n}\r\n\r\nconst api = {\r\n  fetchImages,\r\n}\r\n\r\nexport default api;\r\n\r\n// export default class ImagesApi {\r\n//   constructor() {\r\n//     this.query = '';\r\n//     this.page = 1;\r\n//   }\r\n\r\n//   async fatchImages() {\r\n//     const response = await fetch(`https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${this.query}&page=${this.page}&per_page=12&key=${KEY}`);\r\n//     const parsedResponse = await response.json();\r\n//     const images = await parsedResponse.hits;\r\n//     this.incrementPage();\r\n//     return images;\r\n// }\r\n\r\n  // fatchImages() {\r\n  //   fetch(`https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${this.query}&page=${this.page}&per_page=12&key=${KEY}`)\r\n  //     .then(response => {\r\n  //       return response.json();\r\n  //       // if (response.ok) response.json();\r\n  //       // return Promise.reject(new Error('Nothing on your request!'));\r\n  //     })\r\n      \r\n//   //   this.incrementPage();\r\n//   // }\r\n  \r\n//   incrementPage() {\r\n//     this.page += 1;\r\n//   }\r\n\r\n//   resetPage() {\r\n//     this.page = 1;\r\n//   }\r\n// }","const Button = ({title, type='button', cbonClick}) => {\r\n  return (\r\n    <button type={type} onClick={cbonClick}>{title}</button>\r\n  )\r\n}\r\n\r\nexport default Button;","import { Component } from \"react\";\r\n\r\nimport ImageGalleryItem from \"../ImageGalleryItem\";\r\nimport imagesApi from '../../services/apiImageService';\r\nimport Button from \"../Button/Button\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\n\r\nexport default class ImageGallery extends Component {\r\n  state = {\r\n    images: [],\r\n    page: 1,\r\n    error: null,\r\n  }\r\n\r\n  // componentDidMount() {\r\n  //   console.log('did mount');\r\n  //   // this.setState({ page: 1 });\r\n  // }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    console.log('did update');\r\n    // console.log(prevProps);\r\n    console.log(prevState.page);\r\n    const prevName = prevProps.imageName;\r\n    const currentName = this.props.imageName;\r\n    // const page = this.state.page;\r\n\r\n    if (prevName !== currentName) {\r\n      this.getImages();\r\n      // this.setState({ page: 1 });\r\n      //   imagesApi\r\n      //   .fetchImages(currentName, page)\r\n      //     .then(({ hits }) => this.setState((prevState) => ({\r\n      //       images: [...prevState.images, ...hits],\r\n      //       page: 1,\r\n      //     })))\r\n      //   .catch(error => this.setState({ error }));\r\n    }\r\n  }\r\n\r\n  handleBtnClick = () => {\r\n    console.log('button');\r\n    this.getImages();\r\n    // this.setState(prevState => ({ page: prevState.page + 1 }));\r\n    // imagesApi\r\n    //   .fetchImages(this.props.imageName, this.state.page)\r\n    //   .then(({ hits }) => this.setState((prevState) => ({\r\n    //     images: [...prevState.images, ...hits],\r\n    //     page: prevState.page + 1,\r\n    //   })))\r\n    //   .catch(error => this.setState({ error }));\r\n  }\r\n\r\n  getImages = () => {\r\n    imagesApi\r\n      .fetchImages(this.props.imageName, this.state.page)\r\n      .then(({ hits }) => this.setState((prevState) => ({\r\n        images: [...prevState.images, ...hits],\r\n        page: prevState.page + 1,\r\n      })))\r\n      .catch(error => this.setState({ error }));\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <ul>\r\n          {this.state.images.map(image => {\r\n            return (\r\n              <ImageGalleryItem url={image.webformatURL} id={image.id} largeImage={image.largeImageURL} tags={image.tags} />\r\n            )\r\n          })}\r\n        </ul>\r\n        <Button title='LoadMore' cbonClick={this.handleBtnClick} />\r\n        <Loader\r\n          type=\"Bars\"\r\n          color=\"#00BFFF\"\r\n          height={80}\r\n          width={80}\r\n          timeout={3000}\r\n        />\r\n      </>\r\n    )\r\n  }\r\n}\r\n","const Container = ({ children }) => <div>{children}</div>;\r\n\r\nexport default Container;","import Container from \"../Container/Container\"\r\n\r\n\r\nconst Layout = ({ children }) => {\r\n  return (\r\n    <>\r\n      <Container>\r\n        {children}\r\n      </Container>\r\n  </>\r\n  )\r\n}\r\n\r\nexport default Layout;","import { Component } from \"react\";\r\n// import ImagesApi from '../../services/apiImageService';\r\n\r\n// const imageApi = new ImagesApi();\r\n\r\nexport default class Searchbar extends Component {\r\n  state = {\r\n    imageName: '',\r\n  }\r\n\r\n  handleImageNameChange = e => {\r\n    this.setState({ imageName: e.currentTarget.value.toLowerCase() });\r\n    // imageApi.query = this.state.imageName;\r\n  };\r\n\r\n  handlerSubmit = e => {\r\n    e.preventDefault();\r\n    this.props.onSubmit(this.state.imageName);\r\n    // imageApi.query = this.state.imageName;\r\n    // const images = imageApi.fatchImages();\r\n    // console.log(images);\r\n    this.setState({ imageName: '' });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <header>\r\n        <form onSubmit={this.handlerSubmit}>\r\n          <button type=\"submit\">\r\n            <span>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            value={this.state.imageName}\r\n            onChange={this.handleImageNameChange}\r\n          />\r\n        </form>\r\n      </header> \r\n    )\r\n  }\r\n}","import { Component } from \"react\";\n\n// import Loader from \"react-loader-spinner\";\n// import \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\n\n// import Button from \"./components/Button/Button\";\nimport ImageGallery from \"./components/ImageGallery\";\nimport Layout from \"./components/Layout\";\nimport Searchbar from \"./components/Searchbar\";\n\n\nexport default class App extends Component  {\n  state = {\n    imageName: '',\n  };\n\n  handleFormSubmit = imageName => {\n    this.setState({ imageName });\n  };\n\n  // handleBtnClick = () => {\n  //   console.log('button');\n  // }\n\n  render() {\n    return (\n        <Layout>\n        <Searchbar onSubmit={this.handleFormSubmit}/>\n        <ImageGallery imageName={this.state.imageName}/>\n        {/* <Button title='Load More' cbonClick={this.handleBtnClick}/>\n        <Loader\n          type=\"Bars\"\n          color=\"#00BFFF\"\n          height={80}\n          width={80}\n          timeout={3000}\n        /> */}\n        </Layout>\n      );\n  }\n}\n\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}