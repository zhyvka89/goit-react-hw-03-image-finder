{"version":3,"sources":["components/Button/Button.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Container/Container.module.css","components/ImageGalleryItem/ImageGalleryItem.js","components/Button/Button.js","components/Modal/Modal.js","components/ImageGallery/ImageGallery.js","services/apiImageService.js","components/Container/Container.js","components/Layout/Layout.js","components/Searchbar/Searchbar.js","App.js","index.js","components/Searchbar/Searchbar.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css"],"names":["module","exports","ImageGalleryItem","url","id","largeImage","tags","toggleModal","handleLargeImage","className","styles","item","onClick","src","alt","itemImage","Button","title","type","cbonClick","buttonThumb","button","Modal","handleKeydown","e","code","props","onCloseModal","handleBackDropClick","currentTarget","target","window","addEventListener","this","removeEventListener","overlay","modal","children","Component","imagesApi","query","page","a","fetch","response","json","parsedResponse","incrementPage","ImageGallery","state","images","error","showModal","loading","setState","prevState","image","handleBtnClick","getImages","setTimeout","fatchImages","then","hits","catch","console","log","finally","prevProps","prevName","imageName","currentName","resetPage","scrollTo","top","document","documentElement","scrollHeight","behavior","width","height","gallery","map","webformatURL","largeImageURL","length","color","timeout","Container","container","Layout","Searchbar","handleImageNameChange","value","toLowerCase","handlerSubmit","preventDefault","onSubmit","searchbar","searchForm","input","autoComplete","autoFocus","placeholder","onChange","App","handleFormSubmit","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.a08df5e7.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"buttonThumb\":\"Button_buttonThumb__2wwlZ\",\"button\":\"Button_button__1XRkO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__1dGdI\",\"modal\":\"Modal_modal__2JWdJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"ImageGallery_gallery__lONz-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__1HjqG\"};","import styles from './ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({ url, id, largeImage, tags, toggleModal, handleLargeImage }) => {\n  const handleModalOpen = () => {\n    toggleModal();\n    handleLargeImage(largeImage);\n  }\n\n  return (\n    <li className={styles.item} key={id} onClick={() => handleModalOpen()}>\n      <img src={url} alt={tags} className={styles.itemImage}/>\n    </li>\n  );\n};\n\nexport default ImageGalleryItem;\n","import styles from './Button.module.css';\n\nconst Button = ({ title, type = 'button', cbonClick }) => {\n  return (\n    <div className={styles.buttonThumb}>\n      <button type={type} onClick={cbonClick} className={styles.button}>\n        {title}\n      </button>\n    </div>\n  );\n};\n\nexport default Button;\n","import { Component } from \"react\";\r\nimport styles from './Modal.module.css';\r\n\r\nexport default class Modal extends Component {\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeydown);\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeydown);\r\n  };\r\n\r\n  handleKeydown = e => {\r\n    if (e.code === \"Escape\") {\r\n      this.props.onCloseModal();\r\n    };\r\n  };\r\n\r\n  handleBackDropClick = e => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onCloseModal();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div onClick={this.handleBackDropClick} className={styles.overlay}>\r\n        <div className={styles.modal}>\r\n          {this.props.children}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}","import { Component } from 'react';\n\nimport ImageGalleryItem from '../ImageGalleryItem';\nimport Button from '../Button/Button';\nimport Modal from '../Modal/Modal';\n\nimport styles from './ImageGallery.module.css';\n\nimport Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nimport ImagesApi from '../../services/apiImageService';\nconst imagesApi = new ImagesApi();\n\n\nexport default class ImageGallery extends Component {\n  state = {\n    images: [],\n    error: null,\n    showModal: false,\n    largeImage: '',\n    loading: false\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevName = prevProps.imageName;\n    const currentName = this.props.imageName;\n\n    if (prevName !== currentName) {\n      this.setState({ images: [] });\n      imagesApi.query = currentName;\n      imagesApi.resetPage();\n      this.getImages();\n    }\n\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  }\n\n  toggleModal = () => {\n    this.setState(prevState => ({\n      showModal: !prevState.showModal,\n    }))\n  }\n\n  handleLargeImage = (image) => {\n    this.setState({ largeImage: image });\n  }\n\n  handleBtnClick = () => {\n    this.getImages();\n  };\n\n  getImages = () => {\n    this.setState({ loading: true });\n\n    setTimeout(() => {\n    imagesApi\n      .fatchImages()\n      .then(({ hits }) => this.setState(prevState => ({\n        images: [...prevState.images, ...hits],\n      })))\n      .catch(error => {\n        this.setState({ error });\n        console.log(error);\n      })\n      .finally(this.setState({ loading: false }));\n      \n    }, 1000);\n  };\n\n  render() {\n    return (\n      <>\n        {this.state.showModal &&\n          (<Modal onCloseModal={this.toggleModal}>\n            <img src={this.state.largeImage} alt=\"pics\" width='680' height='500'/>\n          </Modal>)}\n        \n        <ul className={styles.gallery}>\n          {this.state.images.map(image => {\n            return (\n              <ImageGalleryItem\n                url={image.webformatURL}\n                id={image.id}\n                largeImage={image.largeImageURL}\n                tags={image.tags}\n                toggleModal={this.toggleModal}\n                handleLargeImage={this.handleLargeImage}\n              />\n            );\n          })}\n        </ul>\n\n        {this.state.images.length > 0 &&\n          <Button title=\"Load More\" cbonClick={this.handleBtnClick} />\n        }\n\n        {this.state.loading && (\n          <Loader\n            type=\"Bars\"\n            color=\"#00BFFF\"\n            height={50}\n            width={50}\n            timeout={1000}\n          />\n        )}\n        \n      </>\n    );\n  }\n}\n","const KEY = '21789749-6de12aa5ab416fe119ffd7e9c';\n\nexport default class ImagesApi {\n  constructor() {\n    this.query = '';\n    this.page = 1;\n  }\n\n  async fatchImages() {\n    const response = await fetch(`https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${this.query}&page=${this.page}&per_page=12&key=${KEY}`);\n    const parsedResponse = await response.json();\n    this.incrementPage();\n    return parsedResponse;\n  }\n\n  incrementPage() {\n    this.page += 1;\n  }\n\n  resetPage() {\n    this.page = 1;\n  }\n}\n","import styles from './Container.module.css';\n\nconst Container = ({ children }) => <div className={styles.container}>{children}</div>;\n\nexport default Container;\n","import Container from '../Container/Container';\n\nconst Layout = ({ children }) => {\n  return (\n    <>\n      <Container>{children}</Container>\n    </>\n  );\n};\n\nexport default Layout;\n","import { Component } from 'react';\nimport styles from './Searchbar.module.css';\n\nexport default class Searchbar extends Component {\n  state = {\n    imageName: '',\n  };\n\n  handleImageNameChange = e => {\n    this.setState({ imageName: e.currentTarget.value.toLowerCase() });\n  };\n\n  handlerSubmit = e => {\n    e.preventDefault();\n    this.props.onSubmit(this.state.imageName);\n    this.setState({ imageName: '' });\n  };\n\n  render() {\n    return (\n      <header className={styles.searchbar}>\n        <form onSubmit={this.handlerSubmit} className={styles.searchForm}>\n          <button type=\"submit\" className={styles.button}></button>\n\n          <input\n            className={styles.input}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={this.state.imageName}\n            onChange={this.handleImageNameChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","import { Component } from 'react';\n\nimport ImageGallery from './components/ImageGallery';\nimport Layout from './components/Layout';\nimport Searchbar from './components/Searchbar';\n\nexport default class App extends Component {\n  state = {\n    imageName: '',\n  };\n  \n  handleFormSubmit = imageName => {\n    this.setState({ imageName });\n  };\n\n  render() {\n    return (\n      <Layout>\n        <Searchbar onSubmit={this.handleFormSubmit} />\n        <ImageGallery imageName={this.state.imageName} />\n      </Layout>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__1pylX\",\"searchForm\":\"Searchbar_searchForm__2dxOM\",\"button\":\"Searchbar_button__2-oPA\",\"input\":\"Searchbar_input__4NJzz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"ImageGalleryItem_item__11t2m\",\"itemImage\":\"ImageGalleryItem_itemImage__10jOM\",\"item-image\":\"ImageGalleryItem_item-image__IFi6O\"};"],"sourceRoot":""}