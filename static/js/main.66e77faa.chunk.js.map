{"version":3,"sources":["components/Button/Button.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Container/Container.module.css","components/ImageGalleryItem/ImageGalleryItem.js","components/Button/Button.js","components/Modal/Modal.js","components/ImageGallery/ImageGallery.js","services/apiImageService.js","components/Container/Container.js","components/Layout/Layout.js","components/Searchbar/Searchbar.js","App.js","index.js","components/Searchbar/Searchbar.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css"],"names":["module","exports","ImageGalleryItem","url","id","largeImage","tags","toggleModal","handleLargeImage","className","styles","item","onClick","src","alt","itemImage","propeType","PropTypes","string","isRequired","func","Button","title","type","cbonClick","buttonThumb","button","Modal","onCloseModal","handleKeydown","e","code","props","handleBackDropClick","currentTarget","target","window","addEventListener","this","removeEventListener","overlay","modal","children","Component","imagesApi","query","page","a","fetch","response","json","parsedResponse","incrementPage","ImageGallery","state","images","error","showModal","loading","imageName","setState","prevState","image","handleBtnClick","getImages","setTimeout","fatchImages","then","hits","catch","console","log","finally","prevProps","prevName","currentName","resetPage","scrollTo","top","document","documentElement","scrollHeight","behavior","width","height","gallery","map","webformatURL","largeImageURL","length","color","timeout","Container","container","Layout","Searchbar","onSubmit","handleImageNameChange","value","toLowerCase","handlerSubmit","preventDefault","searchbar","searchForm","input","autoComplete","autoFocus","placeholder","onChange","App","handleFormSubmit","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.66e77faa.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"buttonThumb\":\"Button_buttonThumb__2DB5u\",\"button\":\"Button_button__1Pvjo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__2nfnd\",\"modal\":\"Modal_modal__3aQbn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"ImageGallery_gallery__2xe_r\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__1hG1O\"};","import PropTypes from 'prop-types';\r\nimport styles from './ImageGalleryItem.module.css';\r\n\r\nconst ImageGalleryItem = ({\r\n  url,\r\n  id,\r\n  largeImage,\r\n  tags,\r\n  toggleModal,\r\n  handleLargeImage,\r\n}) => {\r\n  const handleModalOpen = () => {\r\n    toggleModal();\r\n    handleLargeImage(largeImage);\r\n  };\r\n\r\n  return (\r\n    <li className={styles.item} key={id} onClick={() => handleModalOpen()}>\r\n      <img src={url} alt={tags} className={styles.itemImage} />\r\n    </li>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propeType = {\r\n  url: PropTypes.string.isRequired,\r\n  id: PropTypes.string.isRequired,\r\n  largeImage: PropTypes.string.isRequired,\r\n  tags: PropTypes.string.isRequired,\r\n  toggleModal: PropTypes.func.isRequired,\r\n  handleLargeImage: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import PropTypes from 'prop-types';\r\nimport styles from './Button.module.css';\r\n\r\nconst Button = ({ title, type = 'button', cbonClick }) => {\r\n  return (\r\n    <div className={styles.buttonThumb}>\r\n      <button type={type} onClick={cbonClick} className={styles.button}>\r\n        {title}\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nButton.propTypes = {\r\n  title: PropTypes.string.isRequired,\r\n  type: PropTypes.string,\r\n  cbonClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Modal.module.css';\r\n\r\nexport default class Modal extends Component {\r\n  PropTypes = {\r\n    onCloseModal: PropTypes.func.isRequired,\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeydown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeydown);\r\n  }\r\n\r\n  handleKeydown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onCloseModal();\r\n    }\r\n  };\r\n\r\n  handleBackDropClick = e => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onCloseModal();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div onClick={this.handleBackDropClick} className={styles.overlay}>\r\n        <div className={styles.modal}>{this.props.children}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport ImageGalleryItem from '../ImageGalleryItem';\r\nimport Button from '../Button/Button';\r\nimport Modal from '../Modal/Modal';\r\n\r\nimport styles from './ImageGallery.module.css';\r\n\r\nimport Loader from 'react-loader-spinner';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\n\r\nimport ImagesApi from '../../services/apiImageService';\r\nconst imagesApi = new ImagesApi();\r\n\r\nexport default class ImageGallery extends Component {\r\n  state = {\r\n    images: [],\r\n    error: null,\r\n    showModal: false,\r\n    largeImage: '',\r\n    loading: false,\r\n  };\r\n\r\n  PropTypes = {\r\n    imageName: PropTypes.string.isRequired,\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const prevName = prevProps.imageName;\r\n    const currentName = this.props.imageName;\r\n\r\n    if (prevName !== currentName) {\r\n      this.setState({ images: [] });\r\n      imagesApi.query = currentName;\r\n      imagesApi.resetPage();\r\n      this.getImages();\r\n    }\r\n\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: 'smooth',\r\n    });\r\n  }\r\n\r\n  toggleModal = () => {\r\n    this.setState(prevState => ({\r\n      showModal: !prevState.showModal,\r\n    }));\r\n  };\r\n\r\n  handleLargeImage = image => {\r\n    this.setState({ largeImage: image });\r\n  };\r\n\r\n  handleBtnClick = () => {\r\n    this.getImages();\r\n  };\r\n\r\n  getImages = () => {\r\n    this.setState({ loading: true });\r\n\r\n    setTimeout(() => {\r\n      imagesApi\r\n        .fatchImages()\r\n        .then(({ hits }) =>\r\n          this.setState(prevState => ({\r\n            images: [...prevState.images, ...hits],\r\n          })),\r\n        )\r\n        .catch(error => {\r\n          this.setState({ error });\r\n          console.log(error);\r\n        })\r\n        .finally(this.setState({ loading: false }));\r\n    }, 1000);\r\n  };\r\n\r\n  render() {\r\n    const { showModal, loading, images, largeImage } = this.state;\r\n\r\n    return (\r\n      <>\r\n        {showModal && (\r\n          <Modal onCloseModal={this.toggleModal}>\r\n            <img src={largeImage} alt=\"pics\" width=\"680\" height=\"500\" />\r\n          </Modal>\r\n        )}\r\n\r\n        <ul className={styles.gallery}>\r\n          {images.map(({ webformatURL, id, tags, largeImageURL }) => {\r\n            return (\r\n              <ImageGalleryItem\r\n                url={webformatURL}\r\n                id={id}\r\n                largeImage={largeImageURL}\r\n                tags={tags}\r\n                toggleModal={this.toggleModal}\r\n                handleLargeImage={this.handleLargeImage}\r\n              />\r\n            );\r\n          })}\r\n        </ul>\r\n\r\n        {images.length > 0 && !loading && (\r\n          <Button title=\"Load More\" cbonClick={this.handleBtnClick} />\r\n        )}\r\n\r\n        {loading && (\r\n          <Loader\r\n            type=\"Bars\"\r\n            color=\"#3f51b5\"\r\n            height={50}\r\n            width={50}\r\n            timeout={1000}\r\n          />\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n","const KEY = '21789749-6de12aa5ab416fe119ffd7e9c';\r\n\r\nexport default class ImagesApi {\r\n  constructor() {\r\n    this.query = '';\r\n    this.page = 1;\r\n  }\r\n\r\n  async fatchImages() {\r\n    const response = await fetch(\r\n      `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${this.query}&page=${this.page}&per_page=12&key=${KEY}`,\r\n    );\r\n    const parsedResponse = await response.json();\r\n    this.incrementPage();\r\n    return parsedResponse;\r\n  }\r\n\r\n  incrementPage() {\r\n    this.page += 1;\r\n  }\r\n\r\n  resetPage() {\r\n    this.page = 1;\r\n  }\r\n}\r\n","import PropTypes from 'prop-types';\r\nimport styles from './Container.module.css';\r\n\r\nconst Container = ({ children }) => (\r\n  <div className={styles.container}>{children}</div>\r\n);\r\n\r\nContainer.propTypes = {\r\n  children: PropTypes.node.isRequired,\r\n};\r\n\r\nexport default Container;\r\n","import PropTypes from 'prop-types';\r\nimport Container from '../Container/Container';\r\n\r\nconst Layout = ({ children }) => {\r\n  return (\r\n    <>\r\n      <Container>{children}</Container>\r\n    </>\r\n  );\r\n};\r\n\r\nLayout.propTypes = {\r\n  children: PropTypes.node.isRequired,\r\n};\r\n\r\nexport default Layout;\r\n","import { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Searchbar.module.css';\r\n\r\nexport default class Searchbar extends Component {\r\n  state = {\r\n    imageName: '',\r\n  };\r\n\r\n  PropTypes = {\r\n    onSubmit: PropTypes.func.isRequired,\r\n  };\r\n\r\n  handleImageNameChange = e => {\r\n    this.setState({ imageName: e.currentTarget.value.toLowerCase() });\r\n  };\r\n\r\n  handlerSubmit = e => {\r\n    e.preventDefault();\r\n    this.props.onSubmit(this.state.imageName);\r\n    this.setState({ imageName: '' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={styles.searchbar}>\r\n        <form onSubmit={this.handlerSubmit} className={styles.searchForm}>\r\n          <button type=\"submit\" className={styles.button}></button>\r\n\r\n          <input\r\n            className={styles.input}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            value={this.state.imageName}\r\n            onChange={this.handleImageNameChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","import { Component } from 'react';\r\n\r\nimport ImageGallery from './components/ImageGallery';\r\nimport Layout from './components/Layout';\r\nimport Searchbar from './components/Searchbar';\r\n\r\nexport default class App extends Component {\r\n  state = {\r\n    imageName: '',\r\n  };\r\n\r\n  handleFormSubmit = imageName => {\r\n    this.setState({ imageName });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Layout>\r\n        <Searchbar onSubmit={this.handleFormSubmit} />\r\n        <ImageGallery imageName={this.state.imageName} />\r\n      </Layout>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__EhPtY\",\"searchForm\":\"Searchbar_searchForm__1P4H0\",\"button\":\"Searchbar_button__uOsf-\",\"input\":\"Searchbar_input__22ePg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"ImageGalleryItem_item__1Ro6C\",\"itemImage\":\"ImageGalleryItem_itemImage__2af36\",\"item-image\":\"ImageGalleryItem_item-image__3OuS6\"};"],"sourceRoot":""}